"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[5944],{7535:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>t,default:()=>a,frontMatter:()=>r,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"operate/troubleshooting","title":"Troubleshooting","description":"Debugging a Kubernetes Application","source":"@site/docs/operate/troubleshooting.md","sourceDirName":"operate","slug":"/operate/troubleshooting","permalink":"/reference-environment/operate/troubleshooting","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Users and RBAC","permalink":"/reference-environment/operate/users_rbac"},"next":{"title":"Use","permalink":"/reference-environment/use"}}');var l=i(4848),c=i(8453);const r={sidebar_position:3},t="Troubleshooting",d={},o=[{value:"Debugging a Kubernetes Application",id:"debugging-a-kubernetes-application",level:2},{value:"Debugging a GitLab CI Script",id:"debugging-a-gitlab-ci-script",level:2},{value:"Debugging an ArgoCD Application",id:"debugging-an-argocd-application",level:2}];function h(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,l.jsx)(n.h2,{id:"debugging-a-kubernetes-application",children:"Debugging a Kubernetes Application"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Check Pod Logs:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"kubectl logs <pod-name>"})," to view the logs of a specific pod."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kubectl logs my-app-pod\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Describe the Pod:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"kubectl describe pod <pod-name>"})," to get detailed information about the pod."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kubectl describe pod my-app-pod\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Check Pod Events:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Events can provide insights into issues like scheduling problems or container crashes."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kubectl get events --sort-by='.metadata.creationTimestamp'\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Exec into the Pod:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"kubectl exec -it <pod-name> -- /bin/sh"})," to get a shell inside the pod for further investigation."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kubectl exec -it my-app-pod -- /bin/sh\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"debugging-a-gitlab-ci-script",children:"Debugging a GitLab CI Script"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsxs)(n.strong,{children:["Validate ",(0,l.jsx)(n.code,{children:".gitlab-ci.yml"}),":"]})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use the CI Lint tool in GitLab to validate your ",(0,l.jsx)(n.code,{children:".gitlab-ci.yml"})," file."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"# In GitLab UI, go to CI/CD > Pipelines > CI Lint\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Check Pipeline Logs:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Review the logs of each job in the pipeline to identify errors."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"# In GitLab UI, go to CI/CD > Pipelines > Jobs > [Job Name]\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Use Debug Tracing:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Enable debug tracing by setting the ",(0,l.jsx)(n.code,{children:"CI_DEBUG_TRACE"})," variable to ",(0,l.jsx)(n.code,{children:"true"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-yaml",children:'variables:\n  CI_DEBUG_TRACE: "true"\n'})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Run Jobs Locally:"})}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Use the GitLab Runner to run jobs locally for debugging."}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"gitlab-runner exec docker <job-name>\n"})}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"debugging-an-argocd-application",children:"Debugging an ArgoCD Application"}),"\n",(0,l.jsx)(n.p,{children:"To debug an ArgoCD application using the UI, follow these steps:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Select the Application:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:"Once logged in, you will see a list of applications. Click on the application you want to debug."}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Check Application Status:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["The application details page will show the current status of the application, including whether it is ",(0,l.jsx)(n.code,{children:"Synced"})," or ",(0,l.jsx)(n.code,{children:"OutOfSync"}),", and any health status like ",(0,l.jsx)(n.code,{children:"Healthy"})," or ",(0,l.jsx)(n.code,{children:"Degraded"}),"."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Sync the Application:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If the application is out of sync, you can manually sync it by clicking the ",(0,l.jsx)(n.code,{children:"Sync"})," button. This will synchronize the application's state with the desired state defined in the Git repository."]}),"\n"]}),"\n",(0,l.jsx)(n.admonition,{title:"Tip",type:"info",children:(0,l.jsxs)(n.p,{children:["Sometimes, giving the Application an ",(0,l.jsx)(n.code,{children:"Hard Refresh"})," might be useful. The button can be found by clicking the little arrow pointing downwards next to the ",(0,l.jsx)(n.code,{children:"Refresh"})," button."]})}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"View Application Logs:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["To view logs, navigate to the ",(0,l.jsx)(n.code,{children:"Pods"})," section under the ",(0,l.jsx)(n.code,{children:"Resources"})," tab. Click on the specific pod you are interested in, and then click on the ",(0,l.jsx)(n.code,{children:"Logs"})," tab to see the logs for that pod."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Check Events and Conditions:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Under the ",(0,l.jsx)(n.code,{children:"Events"})," tab, you can see events related to the application. This can help identify issues such as failed deployments or resource constraints."]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"Check Events and Conditions in the cluster:"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsxs)(n.p,{children:["Use ",(0,l.jsx)(n.code,{children:"kubectl get events"})," and ",(0,l.jsx)(n.code,{children:"kubectl describe <resource>"})," to check for events and conditions affecting the application."]}),"\n"]}),"\n",(0,l.jsxs)(n.li,{children:["\n",(0,l.jsx)(n.p,{children:"Example:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-sh",children:"kubectl get events\nkubectl describe application my-app-deployment\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);